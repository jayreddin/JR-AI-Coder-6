import{R as qt,j as e,u as Xt,r as a,F as Qt}from"./vendor-ydBFvk_T.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))v(m);new MutationObserver(m=>{for(const u of m)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&v(f)}).observe(document,{childList:!0,subtree:!0});function c(m){const u={};return m.integrity&&(u.integrity=m.integrity),m.referrerPolicy&&(u.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?u.credentials="include":m.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function v(m){if(m.ep)return;m.ep=!0;const u=c(m);fetch(m.href,u)}})();function s(...g){return g.filter(Boolean).join(" ")}function Yt(g,r){const[c,v]=a.useState(g);return a.useEffect(()=>{const m=setTimeout(()=>v(g),r);return()=>clearTimeout(m)},[g,r]),c}function Zt({log:g}){return e.jsx("div",{className:"log-panel bg-[#e8e8e8] shadow-[inset_4px_4px_8px_#c5c5c5,inset_-4px_-4px_8px_#ffffff] rounded-2xl p-4",children:e.jsx("div",{className:"text-[#666] font-mono text-xs space-y-1 max-h-32 overflow-y-auto",children:g.map((r,c)=>e.jsx("div",{className:r.includes("‚úÖ")?"text-green-600":r.includes("‚ùå")?"text-red-600":"",children:r},c))})})}function es({neu:g,neuBtn:r,neuBtnBlack:c,onClose:v,onExport:m,onImport:u,fileInputRef:f}){return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:v,children:e.jsxs("div",{className:s(g,"rounded-[24px] p-6 max-w-md w-full"),onClick:w=>w.stopPropagation(),children:[e.jsx("h3",{className:"font-black text-[#1a1a1a] text-xl mb-4",children:"üì¶ Export / Import"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:m,className:s("w-full",r,"rounded-xl py-3 font-bold text-[#1a1a1a]"),children:"üì§ Export All Apps (JSON)"}),e.jsx("button",{onClick:()=>f.current?.click(),className:s("w-full",r,"rounded-xl py-3 font-bold text-[#1a1a1a]"),children:"üì• Import Apps (JSON)"}),e.jsx("input",{ref:f,type:"file",accept:".json",className:"hidden",onChange:u})]}),e.jsx("button",{onClick:v,className:s("w-full",c,"rounded-xl py-3 font-bold mt-4"),children:"Close"})]})})}function ts({neu:g,neuInset:r,neuBtn:c,neuBtnRed:v,neuBtnBlack:m,activeProvider:u,setActiveProvider:f,apiKeys:w,setApiKeys:j,favoriteModels:I,setFavoriteModels:J,models:F,pollinationsModels:C,setPollinationsModels:_,user:l,puter:z,onClose:k,signIn:R,apps:P,appLayout:Ue,setAppLayout:O}){const[ie,Y]=a.useState("AI"),[me,x]=a.useState(""),[ue,B]=a.useState(!1),[oe,Ce]=a.useState(w.Pollinations||""),[Se,Ae]=a.useState(!1),[Le,Z]=a.useState(document.body.className.replace("theme-","")||"light"),he=[{id:"side-by-side",name:"Side by Side",icon:"‚ñ¢‚ñ¢‚ñ¢"},{id:"stacked",name:"Stacked",icon:`‚ñ≠
‚ñ≠
‚ñ≠`},{id:"custom",name:"Custom",icon:`‚ñ≠
‚ñ¢‚ñ¢`}],_e=["Puter","Pollinations","Google","Github","OpenRouter","Custom"],re=["light","dark","grey","multicoloured"],fe=()=>{document.body.className=`theme-${Le}`,localStorage.setItem("app-theme",Le),k()},Ee=()=>{const i=localStorage.getItem("app-theme")||"light";Z(i),document.body.className=`theme-${i}`,k()},ce=i=>{Z(i),document.body.className=`theme-${i}`},$e=async(i,M)=>{if(j(A=>({...A,[i]:M})),x("Key saved!"),M){Ae(!0);try{const te=(await(await fetch("https://gen.pollinations.ai/text/models")).json()).map(ne=>({id:ne.name,name:ne.name,provider:"Pollinations",description:ne.description||""})).filter(ne=>!["gpt-4o-mini","gpt-4o","gpt-4"].includes(ne.id));_(te),x(`Key saved! Found ${te.length} models.`)}catch{x("Key saved but failed to fetch models.")}Ae(!1)}},ge=async()=>{if(!oe){x("Please enter an API key first.");return}x("Testing...");try{const i=await fetch("https://gen.pollinations.ai/text/models");if(i.ok){const A=(await i.json()).map(ee=>({id:ee.name,name:ee.name,provider:"Pollinations",description:ee.description||""})).filter(ee=>!["gpt-4o-mini","gpt-4o","gpt-4"].includes(ee.id));_(A),x(`Valid key! Found ${A.length} models.`)}else x("Invalid key or API error.")}catch{x("Connection error. Check your key.")}},V=i=>{J(M=>{const A=new Set(M);return A.has(i)?A.delete(i):A.add(i),A})},be=a.useMemo(()=>u==="Puter"?F.filter(i=>i.provider!=="Other"&&i.provider!=="Pollinations"):u==="Pollinations"?C:[],[F,C,u]);return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:k,children:e.jsxs("div",{className:s(g,"rounded-[24px] p-6 max-w-lg w-full max-h-[90vh] overflow-y-auto"),onClick:i=>i.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"font-black text-[#1a1a1a] text-xl flex items-center gap-2",children:"‚öôÔ∏è Settings"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Y("AI"),className:s("px-4 py-2 rounded-xl text-sm font-bold transition-all",ie==="AI"?r:c),children:"AI"}),e.jsx("button",{onClick:()=>Y("UI"),className:s("px-4 py-2 rounded-xl text-sm font-bold transition-all",ie==="UI"?r:c),children:"UI"})]})]}),ie==="AI"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-[#666]",children:"Provider"}),e.jsx("select",{value:u,onChange:i=>f(i.target.value),className:s(r,"w-full rounded-xl p-3 outline-none font-bold text-inherit bg-transparent"),children:_e.map(i=>e.jsx("option",{value:i,className:"bg-[var(--bg-secondary)] text-[var(--text-color)]",children:i},i))})]}),u==="Custom"&&e.jsx("div",{className:"space-y-4 pt-4 border-t border-[var(--border-color)]",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-[#666]",children:"Provider Name"}),e.jsx("input",{type:"text",placeholder:"e.g. Local LLM",value:w.customName||"",onChange:i=>j(M=>({...M,customName:i.target.value})),className:s(r,"w-full rounded-xl p-3 text-xs outline-none bg-transparent text-inherit")})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-[#666]",children:"Base URL"}),e.jsx("input",{type:"text",placeholder:"https://api.example.com/v1",value:w.customBaseUrl||"",onChange:i=>j(M=>({...M,customBaseUrl:i.target.value})),className:s(r,"w-full rounded-xl p-3 text-xs outline-none bg-transparent text-inherit")})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-[#666]",children:"API Key"}),e.jsx("input",{type:"password",placeholder:"sk-...",value:w.customKey||"",onChange:i=>j(M=>({...M,customKey:i.target.value})),className:s(r,"w-full rounded-xl p-3 text-xs outline-none bg-transparent text-inherit")})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-[#666]",children:"Custom Model ID"}),e.jsx("input",{type:"text",placeholder:"gpt-3.5-turbo",value:w.customModelId||"",onChange:i=>j(M=>({...M,customModelId:i.target.value})),className:s(r,"w-full rounded-xl p-3 text-xs outline-none bg-transparent text-inherit")})]}),e.jsx("button",{onClick:()=>x("Custom settings saved!"),className:s(m,"w-full rounded-xl py-2 font-bold text-sm mt-2"),children:"Save Custom Provider"})]})}),u==="Puter"&&e.jsxs("div",{className:"space-y-4 pt-4 border-t border-[#d1d1d1]",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-[#666]",children:"Logged in as"}),e.jsx("p",{className:"font-bold text-[#1a1a1a]",children:l?.username||"Guest"})]}),l?e.jsx("button",{onClick:async()=>{z?.auth?.signOut&&(await z.auth.signOut(),window.location.reload())},className:s(v,"px-4 py-2 rounded-xl text-xs font-bold"),children:"Sign Out"}):e.jsx("button",{onClick:R,className:s(c,"px-4 py-2 rounded-xl text-xs font-bold"),children:"Sign In"})]}),l&&P&&P.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-xs font-bold text-[#666]",children:["Saved Apps (",P.length,")"]}),e.jsx("div",{className:s(r,"rounded-xl p-3 max-h-32 overflow-y-auto"),children:e.jsxs("div",{className:"space-y-2",children:[P.slice(0,10).map(i=>e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"font-medium text-[#1a1a1a] truncate",children:i.appTitle||i.appName}),i.hostedUrl&&e.jsx("a",{href:i.hostedUrl,target:"_blank",rel:"noopener noreferrer",className:"text-[#0010D9] hover:underline ml-2",children:"View"})]},i._id)),P.length>10&&e.jsxs("p",{className:"text-[#888] text-xs text-center",children:["+ ",P.length-10," more apps"]})]})})]}),e.jsx("a",{href:"https://puter.com/tools/dev-center",target:"_blank",rel:"noopener noreferrer",className:s(c,"block w-full text-center py-3 rounded-xl font-bold text-sm"),children:"üöÄ Open Puter Dev Center"})]}),u==="Pollinations"&&e.jsxs("div",{className:"space-y-4 pt-4 border-t border-[#d1d1d1]",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-bold text-[#666]",children:"Pollinations API Key"}),e.jsx("div",{className:"flex gap-2",children:e.jsx("input",{type:ue?"text":"password",placeholder:"Enter API Key",value:oe,onChange:i=>Ce(i.target.value),className:s(r,"flex-1 rounded-xl p-3 text-xs outline-none bg-transparent")})}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsxs("button",{className:s(c,"px-3 py-2 rounded-xl text-xs font-bold"),onClick:()=>B(!ue),children:[ue?"Hide":"Show"," Key"]}),e.jsx("button",{className:s(c,"px-3 py-2 rounded-xl text-xs font-bold"),onClick:()=>$e("Pollinations",oe),children:"Save Key"}),e.jsx("button",{className:s(c,"px-3 py-2 rounded-xl text-xs font-bold"),onClick:ge,children:"Test Key"})]}),me&&e.jsx("p",{className:s("text-[10px] font-bold",me.includes("Valid")||me.includes("saved")?"text-green-600":"text-orange-500"),children:me})]}),Se&&e.jsx("p",{className:"text-xs text-[#666]",children:"Loading models..."}),w.Pollinations&&C.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-xs font-bold text-[#666]",children:["Available Models (",C.length,")"]}),e.jsx("div",{className:s(r,"rounded-xl p-3 max-h-40 overflow-y-auto"),children:e.jsxs("div",{className:"space-y-1",children:[C.slice(0,20).map(i=>e.jsxs("div",{className:"flex items-center justify-between text-xs py-1",children:[e.jsx("span",{className:"font-mono truncate",children:i.id}),e.jsx("button",{onClick:()=>V(i.id),className:"text-lg ml-2",children:I.has(i.id)?"‚≠ê":"‚òÜ"})]},i.id)),C.length>20&&e.jsxs("p",{className:"text-[#888] text-xs text-center pt-2",children:["+ ",C.length-20," more"]})]})})]}),e.jsxs("p",{className:"text-xs text-[#888]",children:["Get your API key at"," ",e.jsx("a",{href:"https://enter.pollinations.ai",target:"_blank",rel:"noopener noreferrer",className:"text-[#0010D9] hover:underline",children:"enter.pollinations.ai"})]})]}),["Google","Github","OpenRouter","Custom"].includes(u)&&e.jsx("div",{className:"pt-4 border-t border-[#d1d1d1] text-center py-8",children:e.jsx("p",{className:"text-[#666] italic text-sm",children:"Integration coming soon..."})}),be.length>0&&e.jsxs("div",{className:"space-y-3 pt-4 border-t border-[#d1d1d1]",children:[e.jsx("label",{className:"text-sm font-bold text-[#666]",children:"Favorite Models"}),e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto pr-2",children:be.map(i=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-black/5",children:[e.jsx("span",{className:"text-xs font-mono truncate mr-2",children:i.id}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>V(i.id),className:"text-2xl p-2 hover:scale-110 transition-transform",title:"Toggle Favorite",children:I.has(i.id)?"‚≠ê":"‚òÜ"}),e.jsx("button",{onClick:()=>{x(`Model Details: ${i.name||i.id}
Provider: ${i.provider}
${i.description||"No description available."}`)},className:s(c,"px-3 py-1 rounded-lg text-[10px] font-bold"),children:"Details"})]})]},i.id))})]}),e.jsx("button",{onClick:k,className:s(m,"w-full rounded-xl py-3 font-bold mt-8"),children:"Close"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-[#666]",children:"Theme"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:re.map(i=>e.jsx("button",{onClick:()=>ce(i),className:s("p-3 rounded-xl text-xs font-bold capitalize transition-all",Le===i?r+" text-[#0010d9]":c+" text-[#1a1a1a] hover:scale-105"),children:i},i))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-[#666]",children:"App Layout"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:he.map(i=>e.jsxs("button",{onClick:()=>{O(i.id),localStorage.setItem("app-layout",i.id)},className:s("p-4 rounded-xl text-center transition-all flex flex-col items-center gap-2",Ue===i.id?r+" text-[#0010d9]":c+" text-[#1a1a1a] hover:scale-105"),children:[e.jsx("div",{className:"text-2xl font-mono leading-tight whitespace-pre",children:i.icon}),e.jsx("span",{className:"text-xs font-bold",children:i.name})]},i.id))})]}),e.jsxs("div",{className:"flex gap-4 mt-8",children:[e.jsx("button",{onClick:fe,className:s(m,"flex-1 rounded-xl py-3 font-bold"),children:"Save"}),e.jsx("button",{onClick:Ee,className:s(c,"flex-1 rounded-xl py-3 font-bold"),children:"Cancel"})]})]})]})})}function ss({neu:g,neuInset:r,neuBtnRed:c,neuBtnBlack:v,shareLink:m,onClose:u,onCopy:f}){return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:u,children:e.jsxs("div",{className:s(g,"rounded-[24px] p-6 max-w-lg w-full"),onClick:w=>w.stopPropagation(),children:[e.jsx("h3",{className:"font-black text-[#1a1a1a] text-xl mb-4",children:"üîó Share App"}),e.jsx("div",{className:s(r,"rounded-xl p-3 mb-4"),children:e.jsx("input",{value:m,readOnly:!0,className:"w-full bg-transparent text-xs font-mono text-[#1a1a1a] outline-none"})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:f,className:s("flex-1",c,"rounded-xl py-3 font-bold"),children:"üìã Copy Link"}),e.jsx("button",{onClick:u,className:s("flex-1",v,"rounded-xl py-3 font-bold"),children:"Close"})]})]})})}function as({neu:g,neuInset:r,neuBtnBlack:c,appVersions:v,onClose:m,onRestore:u}){return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:m,children:e.jsxs("div",{className:s(g,"rounded-[24px] p-6 max-w-md w-full max-h-[80vh] overflow-hidden"),onClick:f=>f.stopPropagation(),children:[e.jsx("h3",{className:"font-black text-[#1a1a1a] text-xl mb-4",children:"üìö Version History"}),e.jsx("div",{className:"space-y-2 max-h-[50vh] overflow-y-auto",children:v.length===0?e.jsx("p",{className:"text-[#666] text-center py-4",children:"No versions saved yet"}):v.map(f=>e.jsxs("div",{className:s(r,"rounded-xl p-3 flex justify-between items-center"),children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-bold text-[#1a1a1a]",children:["Version ",f.version]}),e.jsx("div",{className:"text-[#666] text-xs",children:new Date(f.createdAt).toLocaleString()})]}),e.jsx("button",{onClick:()=>u(f),className:s(c,"rounded-full px-3 py-1 text-sm font-bold text-[#1a1a1a]"),children:"Restore"})]},f._id))}),e.jsx("button",{onClick:m,className:s("w-full",c,"rounded-xl py-3 font-bold mt-4"),children:"Close"})]})})}function ns({neu:g,neuBtn:r,neuBtnBlack:c,templates:v,selectedTemplate:m,onSelect:u,onClose:f,neuInset:w}){return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:f,children:e.jsxs("div",{className:s(g,"rounded-[24px] p-6 max-w-2xl w-full max-h-[80vh] overflow-hidden flex flex-col bg-[var(--bg-color)]"),onClick:j=>j.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"font-black text-inherit text-xl flex items-center gap-2",children:"üé® App Templates"}),e.jsx("button",{onClick:f,className:s(r,"w-8 h-8 rounded-full flex items-center justify-center text-inherit"),children:"√ó"})]}),e.jsx("div",{className:"overflow-y-auto pr-2 custom-scrollbar",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:v.map(j=>e.jsxs("button",{onClick:()=>u(j),className:s("p-4 rounded-2xl text-left transition-all flex flex-col gap-3 group bg-[var(--bg-secondary)]",m?.id===j.id?w:g),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-3xl",children:j.icon}),e.jsx("div",{className:s("text-[10px] font-black px-2 py-1 rounded-full uppercase tracking-wider",m?.id===j.id?"bg-[#0010d9] text-white":"bg-black/5 text-[#666]"),children:m?.id===j.id?"Selected":"Template"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-inherit text-sm mb-1 group-hover:text-[#0010d9] transition-colors",children:j.name}),e.jsx("div",{className:"text-[var(--text-secondary)] text-xs line-clamp-2 leading-relaxed",children:j.prompt})]})]},j.id))})}),e.jsx("button",{onClick:f,className:s(c,"w-full rounded-xl py-3 font-bold mt-6"),children:"Close"})]})})}function ls({neu:g,neuBtn:r,neuBtnBlack:c,neuInset:v,onClose:m,onCreate:u}){const[f,w]=a.useState(""),j=()=>{f.trim()&&(u(f.trim()),m())};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:m,children:e.jsxs("div",{className:s(g,"rounded-[24px] p-6 max-w-sm w-full bg-[var(--bg-secondary)]"),onClick:I=>I.stopPropagation(),children:[e.jsx("h3",{className:"font-black text-inherit text-lg mb-4",children:"Create New File"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"font-bold text-[#666] text-xs block mb-2",children:"File Name"}),e.jsx("div",{className:s(v,"rounded-xl p-1"),children:e.jsx("input",{type:"text",value:f,onChange:I=>w(I.target.value),placeholder:"e.g., styles.css, script.js",className:"w-full p-2 bg-transparent text-sm text-inherit border-0 outline-none placeholder-[#999]",autoFocus:!0,onKeyDown:I=>I.key==="Enter"&&j()})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:m,className:s(r,"flex-1 rounded-xl py-2.5 font-bold text-sm text-inherit"),children:"Cancel"}),e.jsx("button",{onClick:j,disabled:!f.trim(),className:s(c,"flex-1 rounded-xl py-2.5 font-bold text-sm disabled:opacity-50"),children:"Create"})]})]})]})})}function pe({isCollapsed:g,onToggle:r,direction:c="left"}){const v=g?c==="left"?"‚Üí":"‚Üê":c==="left"?"‚Üê":"‚Üí";return e.jsx("button",{onClick:r,className:"collapse-btn w-6 h-6 rounded-md bg-[#e8e8e8] shadow-[2px_2px_4px_#c5c5c5,-2px_-2px_4px_#ffffff] hover:bg-[#dc2626] hover:text-white flex items-center justify-center text-xs font-bold transition-all",title:g?"Expand panel":"Collapse panel",children:v})}function is({puter:g,slim:r,onFetch:c,loading:v,isPulsing:m}){const[u,f]=a.useState(null),w=a.useCallback(async()=>{if(g?.auth?.getMonthlyUsage)try{const _=await g.auth.getMonthlyUsage();f(_),c&&c(_)}catch{}},[g,c]);if(a.useEffect(()=>{w();const _=setInterval(w,3e4);return()=>clearInterval(_)},[w]),!u?.allowanceInfo)return null;const{monthUsageAllowance:j,remaining:I}=u.allowanceInfo,J=j-I,F=Math.min(100,Math.max(0,J/j*100)),C=(100-F).toFixed(1);return r?e.jsx("div",{className:"flex-1 max-w-[400px] mx-4 select-none",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"text-[10px] font-mono text-[#666] whitespace-nowrap",children:[(J/1e6).toFixed(1),"M"]}),e.jsxs("div",{className:s("flex-1 relative h-2 bg-[#e8e8e8] rounded-full shadow-[inset_1px_1px_2px_#c5c5c5,inset_-1px_-1px_2px_#ffffff] overflow-hidden",m&&"usage-bar-pulse"),children:[e.jsx("div",{style:{width:`${F}%`,transition:"width 1s ease-in-out"},className:"h-full bg-[#0010d9] relative z-10"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 pointer-events-none",children:e.jsxs("span",{className:"text-[8px] font-mono font-bold text-[#444] drop-shadow-sm",children:[C,"%"]})})]}),e.jsxs("div",{className:"text-[10px] font-mono text-[#666] whitespace-nowrap",children:[(j/1e6).toFixed(1),"M"]})]})}):e.jsxs("div",{className:"mt-4 select-none w-full",children:[e.jsx("div",{className:"flex items-center justify-center gap-2 mb-2",children:e.jsx("span",{className:"text-sm font-bold text-[#666]",children:"Usage"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-[10px] font-mono text-[#666] whitespace-nowrap text-left min-w-[60px]",children:[e.jsxs("div",{className:"font-bold",children:[(J/1e6).toFixed(2),"M"]}),e.jsx("div",{className:"opacity-70",children:"Used"})]}),e.jsxs("div",{className:s("flex-1 relative h-5 bg-[#e8e8e8] rounded-full shadow-[inset_2px_2px_4px_#c5c5c5,inset_-2px_-2px_4px_#ffffff] overflow-hidden",m&&"usage-bar-pulse"),children:[e.jsx("div",{style:{width:`${F}%`,transition:"width 1s ease-in-out"},className:"h-full bg-[#0010d9] relative z-10"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 pointer-events-none",children:e.jsxs("span",{className:"text-[10px] font-mono font-bold text-[#1a1a1a] drop-shadow-sm",children:[C,"% Rem"]})})]}),e.jsxs("div",{className:"text-[10px] font-mono text-[#666] whitespace-nowrap text-right min-w-[60px]",children:[e.jsxs("div",{className:"font-bold",children:[(j/1e6).toFixed(2),"M"]}),e.jsx("div",{className:"opacity-70",children:"Total"})]})]})]})}function os(){const{useLiveQuery:g,database:r}=Xt("puter-apps-v6"),{docs:c}=g("type",{key:"app",descending:!0}),{docs:v}=g("type",{key:"version",descending:!0}),m=a.useCallback(async()=>{if(x?.auth?.getMonthlyUsage){it(!0),Ve(!1),qe(!0);try{await x.auth.getMonthlyUsage(),Ve(!0),setTimeout(()=>{Ve(!1),qe(!1)},2e3)}catch{qe(!1)}it(!1)}},[x]),u=a.useCallback((t,n)=>{n.preventDefault(),n.stopPropagation(),We(t)},[]);a.useEffect(()=>{const t=o=>{if(!T||!Ne.current)return;const b=Ne.current.getBoundingClientRect(),h=b.width,X=(o.clientX-b.left)/h*100;if(T==="left"){const U=Math.max(15,Math.min(40,X));dt(U),localStorage.setItem("leftPanelWidth",U.toString())}else if(T==="right"){const U=Math.max(20,Math.min(60,X-je));xt(U),localStorage.setItem("codePanelWidth",U.toString())}},n=()=>{We(null)};if(T){window.addEventListener("mousemove",t),window.addEventListener("mouseup",n),document.body.style.cursor="col-resize",document.body.style.userSelect="none";const o=document.createElement("div");o.id="resizing-overlay",o.style.position="fixed",o.style.inset="0",o.style.zIndex="9999",o.style.cursor="col-resize",document.body.appendChild(o)}return()=>{window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",n),document.body.style.cursor="",document.body.style.userSelect="";const o=document.getElementById("resizing-overlay");o&&o.remove()}},[T,je]),a.useEffect(()=>{localStorage.setItem("activeProvider",D)},[D]),a.useEffect(()=>{localStorage.setItem("favoriteModels",JSON.stringify([...W]))},[W]),a.useEffect(()=>{localStorage.setItem("apiKeys",JSON.stringify(ve))},[ve]),a.useEffect(()=>{localStorage.setItem("model",O)},[O]),a.useEffect(()=>{const t=localStorage.getItem("activeProvider");t&&at(t);const n=localStorage.getItem("favoriteModels");if(n)try{lt(new Set(JSON.parse(n)))}catch{}const o=localStorage.getItem("apiKeys");if(o)try{nt(JSON.parse(o))}catch{}const d=localStorage.getItem("model");d&&ie(d)},[]);const[f,w]=a.useState(""),[j,I]=a.useState(""),[J,F]=a.useState(""),[C,_]=a.useState(!1),[l,z]=a.useState(null),[k,R]=a.useState(""),[P,Ue]=a.useState([]),[O,ie]=a.useState("gpt-4o-mini"),[Y,me]=a.useState("All"),[x,ue]=a.useState(null),[B,oe]=a.useState(null),[Ce,Se]=a.useState([]),[Ae,Le]=a.useState(!1);a.useEffect(()=>{const t=G.find(n=>n.name===H);t&&R(t.content)},[H,G]);const Z=Ae||k||l?.code,[he,_e]=a.useState(""),[re,fe]=a.useState(null),[Ee,ce]=a.useState(!1),[$e,ge]=a.useState(!1),[V,be]=a.useState(new Set),[i,M]=a.useState(!1),[A,ee]=a.useState("date"),[te,ne]=a.useState(!1),[et,Nt]=a.useState(!1),[wt,Pe]=a.useState(!1),[yt,tt]=a.useState(!1),[kt,st]=a.useState(!1),[D,at]=a.useState("Puter"),[ve,nt]=a.useState({}),[W,lt]=a.useState(new Set),[Re,Ct]=a.useState([]),[De,St]=a.useState(""),[Fe,At]=a.useState("build"),[ze,it]=a.useState(!1),[Oe,Ve]=a.useState(!1),Lt=a.useRef(null),[E,ot]=a.useState(!1),[K,rt]=a.useState(!1),[se,ct]=a.useState(!1),[je,dt]=a.useState(()=>{const t=localStorage.getItem("leftPanelWidth");return t?parseFloat(t):25}),[Pt,xt]=a.useState(()=>{const t=localStorage.getItem("codePanelWidth");return t?parseFloat(t):42}),[T,We]=a.useState(null),Ne=a.useRef(null),Ke=a.useCallback(t=>{if(!T||!Ne.current)return;const n=Ne.current.getBoundingClientRect(),d=(t.clientX-n.left)/n.width*100;if(T==="left"){const b=Math.max(10,Math.min(40,d));dt(b),localStorage.setItem("leftPanelWidth",b)}else if(T==="right"){const h=Math.max(10,Math.min(80,d-(E?0:je)));xt(h),localStorage.setItem("codePanelWidth",h)}},[T,je,E]),Ge=a.useCallback(()=>{We(null)},[]);a.useEffect(()=>(T&&(window.addEventListener("mousemove",Ke),window.addEventListener("mouseup",Ge)),()=>{window.removeEventListener("mousemove",Ke),window.removeEventListener("mouseup",Ge)}),[T,Ke,Ge]);const[y,Mt]=a.useState(()=>localStorage.getItem("app-layout")||"side-by-side"),[It,Je]=a.useState(!1),[rs,pt]=a.useState(""),[G,Be]=a.useState([{name:"index.html",content:""}]),[H,He]=a.useState("index.html"),Tt=a.useMemo(()=>{const t=G.find(n=>n.name===H);return t?t.content:""},[G,H]),mt=a.useCallback(t=>{Be(n=>n.map(o=>o.name===H?{...o,content:t}:o))},[H]),Ut=a.useCallback(()=>{const t=document.querySelector('iframe[title="App Preview"]');if(t){const n=t.src;t.src="about:blank",setTimeout(()=>{t.src=n,t.srcdoc=k||l?.code||""},10)}},[k,l]),_t=a.useCallback(t=>{if(!(G.length<=1)&&(Be(n=>n.filter(o=>o.name!==t)),H===t)){const n=G.filter(o=>o.name!==t);He(n[0]?.name||"index.html")}},[G,H]),[Et,qe]=a.useState(!1),[cs,ds]=a.useState(!0),$t=a.useMemo(()=>[{id:"todo",name:"Todo App",icon:"‚úÖ",prompt:"A beautiful todo app with categories, priorities, due dates, dark/light mode toggle, and local storage persistence"},{id:"calculator",name:"Calculator",icon:"üî¢",prompt:"A scientific calculator with history, memory functions, keyboard support, and a sleek modern UI"},{id:"notes",name:"Notes App",icon:"üìù",prompt:"A notes app with markdown support, folders, search, tags, and auto-save functionality"},{id:"timer",name:"Pomodoro Timer",icon:"‚è±Ô∏è",prompt:"A pomodoro timer with customizable work/break intervals, statistics, sounds, and notifications"},{id:"weather",name:"Weather Dashboard",icon:"üå§Ô∏è",prompt:"A weather dashboard that shows current conditions, 5-day forecast, with beautiful animations and location search"},{id:"kanban",name:"Kanban Board",icon:"üìã",prompt:"A kanban board with drag-and-drop cards, multiple columns, labels, and local storage"},{id:"password",name:"Password Generator",icon:"üîê",prompt:"A password generator with strength meter, customizable options, copy to clipboard, and password history"},{id:"quiz",name:"Quiz Game",icon:"üéØ",prompt:"An interactive quiz game with multiple categories, scoring, timer, and leaderboard"},{id:"expense",name:"Expense Tracker",icon:"üí∞",prompt:"An expense tracker with categories, charts, monthly budgets, and export functionality"},{id:"drawing",name:"Drawing App",icon:"üé®",prompt:"A drawing canvas with brush sizes, colors, shapes, layers, undo/redo, and save as image"},{id:"music",name:"Music Player",icon:"üéµ",prompt:"A music player UI with playlist, progress bar, volume control, shuffle, and visualizer"},{id:"chat",name:"Chat Interface",icon:"üí¨",prompt:"A chat interface with message bubbles, typing indicators, timestamps, and emoji picker"},{id:"image-describer",name:"Image Describer",icon:"üñºÔ∏è",prompt:"An app where users can upload or paste an image URL, and it uses AI to describe the content in detail."},{id:"rss-reader",name:"RSS Feed Reader",icon:"üì∞",prompt:"A modern RSS feed reader with article preview, categorization, and the ability to add custom feed URLs."},{id:"ai-chat",name:"AI Chat App",icon:"ü§ñ",prompt:"A sophisticated AI chat interface with markdown rendering, code highlighting, and conversation history."},{id:"tts-app",name:"TTS App",icon:"üó£Ô∏è",prompt:"A Text-to-Speech application with multiple voice options, speed control, and the ability to download audio."},{id:"unit-converter",name:"Unit Converter",icon:"üîÑ",prompt:"A comprehensive unit converter for length, weight, temperature, and more with a clean, easy-to-use UI."},{id:"code-beautifier",name:"Code Beautifier",icon:"‚ú®",prompt:"A tool to format and beautify code for various languages like HTML, CSS, JS, and Python."}],[]),p=a.useCallback(t=>{Se(n=>[...n.slice(-14),`${new Date().toLocaleTimeString()}: ${t}`])},[]);a.useMemo(()=>l?e.jsx("div",{className:"p-3 border-t border-[var(--border-color)] bg-[var(--bg-secondary)]",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"font-bold text-inherit text-xs flex items-center gap-1 truncate",children:[e.jsx("span",{className:"text-[#dc2626]",children:"üì±"}),l.appTitle||l.appName,l.favorite&&e.jsx("span",{children:"‚≠ê"})]}),e.jsxs("div",{className:"text-[var(--text-secondary)] text-[10px] flex items-center gap-2 mt-0.5",children:[e.jsxs("span",{children:["v",l.version||1]}),e.jsx("span",{children:"‚Ä¢"}),e.jsxs("span",{children:["üëÅÔ∏è ",l.views||0]}),e.jsx("span",{children:"‚Ä¢"}),e.jsx("span",{className:"truncate",children:l.model})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:t=>Ie(l,t),className:s(N,"rounded-lg w-7 h-7 flex items-center justify-center text-sm text-inherit"),children:l.favorite?"‚≠ê":"‚òÜ"}),e.jsx("button",{onClick:t=>ye(l,t),className:s(q,"rounded-lg px-2 py-1 font-bold text-xs"),children:"Launch"}),e.jsx("button",{onClick:t=>we(l,t),className:s(N,"rounded-lg w-7 h-7 flex items-center justify-center text-sm text-[#dc2626]"),children:"üóëÔ∏è"})]})]})}):null,[l,Ie,ye,we]);const Xe=Yt(he,300);a.useMemo(()=>["All",...new Set(P.map(t=>t.provider))].sort(),[P]);const Me=a.useMemo(()=>{let t;D==="Pollinations"?t=Re:D==="Puter"?t=Y==="All"?P.filter(d=>d.provider!=="Pollinations"):P.filter(d=>d.provider===Y&&d.provider!=="Pollinations"):t=Y==="All"?P:P.filter(d=>d.provider===Y);const n=t.filter(d=>W.has(d.id)),o=t.filter(d=>!W.has(d.id));return[...n,...o]},[P,Re,Y,D,W]),ut=a.useMemo(()=>c?c.filter(t=>{if(te&&!t.favorite)return!1;if(Xe){const n=Xe.toLowerCase();return t.appName?.toLowerCase().includes(n)||t.appTitle?.toLowerCase().includes(n)||t.prompt?.toLowerCase().includes(n)}return!0}).sort((t,n)=>A==="date"?(n.createdAt||0)-(t.createdAt||0):A==="name"?(t.appTitle||t.appName||"").localeCompare(n.appTitle||n.appName||""):A==="views"?(n.views||0)-(t.views||0):0):[],[c,te,Xe,A]),de=a.useMemo(()=>({totalApps:c.length,totalVersions:v.filter(t=>l&&t.appId===l._id).length,favorites:c.filter(t=>t.favorite).length,totalViews:c.reduce((t,n)=>t+(n.views||0),0),modelsUsed:new Set(c.map(t=>t.model)).size,avgCodeSize:c.length?Math.round(c.reduce((t,n)=>t+(n.code?.length||0),0)/c.length):0}),[c,v,l]);a.useEffect(()=>{const t=document.createElement("script");t.src="https://js.puter.com/v2/",t.onload=async()=>{if(ue(window.puter),p("SDK ready"),window.puter.auth.isSignedIn()){const n=await window.puter.auth.getUser();oe(n),p(`Welcome ${n.username}`)}},document.body.appendChild(t),fetch("https://api.puter.com/puterai/chat/models/").then(n=>n.json()).then(n=>{const o=(Array.isArray(n)?n:n.models||[]).map(d=>{const b=typeof d=="string"?d:d.id;let h="Other";return/gpt|o1|o3|chatgpt/i.test(b)?h="OpenAI":/claude/i.test(b)?h="Anthropic":/gemini|gemma/i.test(b)?h="Google":/llama/i.test(b)?h="Meta":/mistral|mixtral/i.test(b)?h="Mistral":/deepseek/i.test(b)?h="DeepSeek":/grok/i.test(b)?h="xAI":/qwen/i.test(b)&&(h="Alibaba"),{id:b,provider:h}});Ue(o)}).catch(()=>{})},[p]);const Qe=a.useCallback(async()=>{if(!x)return;await x.auth.signIn();const t=await x.auth.getUser();oe(t),p(`Welcome ${t.username}`)},[x,p]),Rt=a.useCallback(async t=>{const n=t||f;if(!n.trim()||!x||!B)return;_(!0);const o=!!l;o||(z(null),R("")),Se([]),ce(!1);try{p(`Model: ${O}`),p(o?"Updating app with new instructions...":"Generating code...");let d=`You are an expert web developer. Create a COMPLETE single HTML file app.
RULES:
- Start with <!DOCTYPE html>
- ALL CSS in <style> tag, ALL JS in <script> tag
- Modern CSS: variables, flexbox/grid, animations, gradients
- Modern JS: ES6+, localStorage, event handling
- Responsive and polished UI
- NO external dependencies
- Return ONLY HTML code`,b=`Build: ${n}`;o&&(d+=`

You are updating an existing app. Here is the current code:
${l.code}

Apply the user's requested changes while keeping the existing functionality intact. Return the FULL updated HTML.`,b=`Update Request: ${n}`);let h="";if(D==="Puter"){const $=await x.ai.chat([{role:"system",content:d},{role:"user",content:b}],{model:O,stream:!0});let le="";for await(const Q of $)Q?.text&&(le+=Q.text,R(le),mt(le));h=le}else if(D==="Pollinations"){const $=ve.Pollinations,le=`https://gen.pollinations.ai/text/${encodeURIComponent(d+`

`+b)}?model=${O}&json=true`,Q=await fetch(le,{method:"GET",headers:{Accept:"*/*",Authorization:$?`Bearer ${$}`:""}});if(!Q.ok){const xe=await Q.text();throw new Error(`Pollinations API Error: ${Q.status} ${xe}`)}const vt=await Q.text();try{const xe=JSON.parse(vt);h=xe?.choices?.[0]?.message?.content||xe?.content||String(xe)}catch{h=vt}}h=h.replace(/```html?\n?/gi,"").replace(/```\n?/g,"").trim();const Ye=h.search(/<!doctype\s+html>/i);if(Ye>0&&(h=h.slice(Ye)),!h.toLowerCase().includes("<!doctype html>"))throw new Error("Invalid HTML");p(`Generated ${h.length} bytes`),p("Updating files...");const X=l?.dir||`app_${Date.now()}`;l||await x.fs.mkdir(X),await x.fs.write(`${X}/index.html`,h),p(`Wrote to ${X}/index.html`);let U=l?.hostedUrl,Te=l?.subdomain;if(!l)p("Creating hosted site..."),Te=j.trim().toLowerCase().replace(/[^a-z0-9-]/g,"")||x.randName(),U=`https://${(await x.hosting.create(Te,X)).subdomain}.puter.site`,p(`Hosted at: ${U}`);else{p("Redeploying site...");try{U=`https://${(await x.hosting.create(Te,X)).subdomain}.puter.site`}catch{}}const ft=o?l.appName:j.trim()||x.randName(),Ze=o?l.appTitle:J.trim()||n.slice(0,50);if(!o){p("Registering Puter app...");let $;try{$=await x.apps.create({name:ft,indexURL:U,title:Ze,description:n,maximizeOnStart:!0,dedupeName:!0}),p(`App registered: ${$.name}`)}catch{p("Name taken, using random...");const Q=x.randName();$=await x.apps.create({name:Q,indexURL:U,title:Ze,description:n,maximizeOnStart:!0}),p(`App registered: ${$.name}`)}}p("Saving to database...");const gt=(l?.version||0)+1,ke={...l||{},type:"app",prompt:o?`${l.prompt}

Update: ${n}`:n,code:h,subdomain:Te,hostedUrl:U,appName:o?l.appName:ft,appTitle:Ze,model:O,dir:X,updatedAt:Date.now(),version:gt};o||(ke.createdAt=Date.now(),ke.views=0,ke.favorite=!1,ke.tags=[]);const bt=await r.put(ke);await r.put({type:"version",appId:bt.id,code:h,version:gt,createdAt:Date.now(),note:o?`Update: ${n.slice(0,30)}...`:"Initial version"});const Ht=await r.get(bt.id);z(Ht),o||(I(""),F("")),w(""),fe(null),p("‚úÖ Complete!"),window.open(U,"_blank")}catch(d){p(`‚ùå Error: ${d.message}`)}_(!1)},[x,B,O,f,j,J,r,p,l,D,ve]),Dt=a.useCallback(async()=>{if(!(!l||!k||!x)){_(!0);try{p("Updating...");const t=`app_${Date.now()}`;await x.fs.mkdir(t),await x.fs.write(`${t}/index.html`,k);try{await x.hosting.delete(l.subdomain)}catch{}const o=`https://${(await x.hosting.create(l.subdomain,t)).subdomain}.puter.site`;if(l.appName)try{await x.apps.update(l.appName,{indexURL:o}),p(`Updated app: ${l.appName}`)}catch{}const d=(l.version||1)+1;await r.put({type:"version",appId:l._id,code:k,version:d,createdAt:Date.now(),note:`Version ${d}`}),await r.put({...l,code:k,dir:t,hostedUrl:o,updatedAt:Date.now(),version:d});const b=await r.get(l._id);z(b),R(""),p(`‚úÖ Updated to v${d}`),window.open(o,"_blank")}catch(t){p(`‚ùå Error: ${t.message}`)}_(!1)}},[l,k,x,r,p]),we=a.useCallback(async(t,n)=>{n?.stopPropagation();try{if(p(`Deleting ${t.appName||t.subdomain}...`),t.appName)try{await x.apps.delete(t.appName)}catch{}if(t.subdomain)try{await x.hosting.delete(t.subdomain)}catch{}const o=v.filter(d=>d.appId===t._id);for(const d of o)await r.del(d._id);await r.del(t._id),l?._id===t._id&&(z(null),R("")),p("‚úÖ Deleted")}catch(o){p(`‚ùå Error: ${o.message}`)}},[x,v,r,l,p]),Ft=a.useCallback(async()=>{if(V.size!==0){for(const t of V){const n=c.find(o=>o._id===t);n&&await we(n)}be(new Set),M(!1)}},[V,c,we]),Ie=a.useCallback(async(t,n)=>{n?.stopPropagation(),await r.put({...t,favorite:!t.favorite}),l?._id===t._id&&z({...t,favorite:!t.favorite})},[r,l]),ht=a.useCallback(async t=>{await r.put({...t,views:(t.views||0)+1})},[r]),ye=a.useCallback(async(t,n)=>{if(n?.stopPropagation(),await ht(t),t.appName&&x)try{await x.apps.launch(t.appName),p(`Launched: ${t.appName}`)}catch{window.open(t.hostedUrl,"_blank")}else window.open(t.hostedUrl,"_blank")},[x,ht,p]),zt=a.useCallback(async t=>{l&&(R(t.code),p(`Restored v${t.version}`),ge(!1))},[l,p]),Ot=a.useCallback(()=>{const t=JSON.stringify(c,null,2),n=new Blob([t],{type:"application/json"}),o=URL.createObjectURL(n),d=document.createElement("a");d.href=o,d.download=`puter-apps-export-${Date.now()}.json`,d.click(),URL.revokeObjectURL(o),p("‚úÖ Exported apps"),Pe(!1)},[c,p]),Vt=a.useCallback(t=>{const n=JSON.stringify(t,null,2),o=new Blob([n],{type:"application/json"}),d=URL.createObjectURL(o),b=document.createElement("a");b.href=d,b.download=`${t.appName||"app"}-export.json`,b.click(),URL.revokeObjectURL(d),p(`‚úÖ Exported ${t.appName}`)},[p]),Wt=a.useCallback(async t=>{const n=t.target.files[0];if(!n)return;const o=await n.text();try{const d=JSON.parse(o),b=Array.isArray(d)?d:[d];for(const h of b)delete h._id,h.imported=!0,h.createdAt=Date.now(),await r.put(h);p(`‚úÖ Imported ${b.length} app(s)`)}catch(d){p(`‚ùå Import failed: ${d.message}`)}t.target.value="",Pe(!1)},[r,p]),Kt=a.useCallback(t=>{const n=btoa(JSON.stringify({prompt:t.prompt,code:t.code,title:t.appTitle})),o=`${window.location.origin}?share=${n}`;St(o),tt(!0)},[]),Gt=a.useCallback(()=>{navigator.clipboard.writeText(De),p("‚úÖ Link copied!")},[De,p]),Jt=a.useCallback(t=>{fe(t),w(t.prompt),F(t.name),ce(!1)},[]),Bt=a.useMemo(()=>l?v.filter(t=>t.appId===l._id).sort((t,n)=>n.version-t.version):[],[v,l]),[,xs]=a.useState(0),S="neu-box",L="neu-inset",N="neu-btn",ae="neu-btn-red",q="neu-btn-black";return a.useEffect(()=>{const t=localStorage.getItem("app-theme")||"light";document.body.className=`theme-${t}`},[]),e.jsxs("div",{className:"min-h-screen transition-colors duration-300 p-4 md:p-6",children:[e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsx("div",{className:s(S,"rounded-[20px] p-3"),children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[e.jsxs("h1",{className:"text-xl md:text-2xl font-black text-[#1a1a1a] flex items-center gap-2 shrink-0",children:[e.jsx("span",{className:"text-[#dc2626]",children:"üñ•Ô∏è"})," JR AI Coder"]}),e.jsxs("div",{className:"hidden md:flex flex-col border-l border-[#ccc] pl-4",children:[e.jsx("p",{className:"text-[#666] text-xs font-bold uppercase tracking-wider",children:D}),e.jsxs("p",{className:"text-[#888] text-[10px]",children:[P.length," models ‚Ä¢ ",c.length," apps ‚Ä¢"," ",de.totalViews," views"]})]})]}),e.jsx(is,{puter:x,slim:!0,onFetch:()=>{},loading:ze,isPulsing:Et}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("button",{onClick:()=>st(!0),className:s(N,"p-2 rounded-lg flex items-center justify-center transition-all hover:scale-105"),title:"Settings",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"settings-icon",children:[e.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.1a2 2 0 0 1-1-1.72v-.51a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),B&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>Nt(!et),className:s(N,"rounded-lg px-3 py-1.5 font-bold text-[#1a1a1a] text-xs transition-all hover:scale-105"),title:"Toggle Analytics",children:"üìä"}),e.jsx("button",{onClick:()=>Pe(!0),className:s(N,"rounded-lg px-3 py-1.5 font-bold text-[#1a1a1a] text-xs transition-all hover:scale-105"),title:"Export/Import Apps",children:"üì¶"})]}),B?e.jsxs("div",{className:"flex items-center gap-2 relative group",children:[e.jsx("div",{className:s(L,"rounded-lg px-3 py-1.5 cursor-default flex items-center gap-2"),children:e.jsxs("span",{className:"font-bold text-[#1a1a1a] text-xs",children:["üë§ ",B.username]})}),e.jsx("div",{className:"absolute right-0 top-full pt-2 opacity-0 group-hover:opacity-100 transition-all pointer-events-none group-hover:pointer-events-auto z-50 transform translate-y-2 group-hover:translate-y-0",children:e.jsx("div",{className:s(S,"rounded-xl p-1.5 min-w-[100px] border border-[#d1d1d1]"),children:e.jsxs("div",{className:"flex flex-col gap-1 w-full",children:[e.jsxs("button",{onClick:m,disabled:ze,className:s(N,"w-full rounded-lg px-3 py-2 font-bold text-xs transition-all text-left flex items-center gap-2",Oe?"text-green-600":"text-[#1a1a1a]"),children:[Oe?e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"text-green-600",children:e.jsx("path",{d:"M20 6L9 17l-5-5"})}):e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:s(ze?"animate-spin":""),children:[e.jsx("path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.85.83 6.72 2.24"}),e.jsx("path",{d:"M21 3v9h-9"})]}),Oe?"Updated!":"Refresh Usage"]}),e.jsxs("button",{onClick:()=>{x.auth.signOut(),window.location.reload()},className:s(N,"w-full rounded-lg px-3 py-2 font-bold text-red-600 text-xs transition-all text-left flex items-center gap-2"),children:[e.jsx("span",{children:"üö™"})," Logout"]})]})})})]}):e.jsx("button",{onClick:Qe,disabled:!x,className:s(ae,"rounded-lg px-4 py-2 font-black text-xs disabled:opacity-50 transition-all hover:scale-105"),children:"Sign In"})]})]})}),et&&e.jsx("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-6 gap-4",children:[{label:"Total Apps",value:de.totalApps,icon:"üì±"},{label:"Favorites",value:de.favorites,icon:"‚≠ê"},{label:"Total Views",value:de.totalViews,icon:"üëÅÔ∏è"},{label:"Models Used",value:de.modelsUsed,icon:"ü§ñ"},{label:"Avg Code Size",value:`${(de.avgCodeSize/1024).toFixed(1)}KB`,icon:"üìÑ"},{label:"Versions",value:v.length,icon:"üìö"}].map((t,n)=>e.jsxs("div",{className:s(L,"rounded-2xl p-4 text-center"),children:[e.jsx("div",{className:"text-2xl mb-1",children:t.icon}),e.jsx("div",{className:"font-black text-[#1a1a1a] text-xl",children:t.value}),e.jsx("div",{className:"text-[#666] text-xs",children:t.label})]},n))})]}),wt&&e.jsx(es,{neu:S,neuBtn:N,neuBtnBlack:q,onClose:()=>Pe(!1),onExport:Ot,onImport:Wt,fileInputRef:Lt}),yt&&e.jsx(ss,{neu:S,neuInset:L,neuBtnRed:ae,neuBtnBlack:q,shareLink:De,onClose:()=>tt(!1),onCopy:Gt}),$e&&l&&e.jsx(as,{neu:S,neuInset:L,neuBtnBlack:q,appVersions:Bt,onClose:()=>ge(!1),onRestore:zt}),Ee&&e.jsx(ns,{neu:S,neuBtn:N,neuBtnBlack:q,templates:$t,selectedTemplate:re,onSelect:Jt,onClose:()=>ce(!1)}),kt&&e.jsx(ts,{neu:S,neuInset:L,neuBtn:N,neuBtnRed:ae,neuBtnBlack:q,activeProvider:D,setActiveProvider:at,apiKeys:ve,setApiKeys:nt,favoriteModels:W,setFavoriteModels:lt,models:P,pollinationsModels:Re,setPollinationsModels:Ct,user:B,puter:x,onClose:()=>st(!1),signIn:Qe,apps:c,appLayout:y,setAppLayout:Mt}),It&&e.jsx(ls,{neu:S,neuBtn:N,neuBtnBlack:q,neuInset:L,onClose:()=>{Je(!1),pt("")},onCreate:t=>{if(G.some(o=>o.name.toLowerCase()===t.toLowerCase())){p(`File "${t}" already exists`);return}Be(o=>[...o,{name:t,content:""}]),He(t),p(`Created new file: ${t}`),pt(""),Je(!1)}}),B?e.jsxs("div",{ref:Ne,className:s("flex gap-0",y==="stacked"||y==="custom"?"flex-col":"lg:flex-row flex-col"),style:{minHeight:"600px"},children:[e.jsxs("div",{className:s("transition-all duration-300",E&&"lg:min-w-[50px] lg:max-w-[50px]",y==="custom"||y==="stacked"?"w-full":"space-y-4"),style:{width:y==="custom"||y==="stacked"?"100%":E?"50px":`${je}%`,minWidth:E?"50px":y==="custom"||y==="stacked"?"100%":"200px",flexShrink:0},children:[e.jsx("div",{className:s(S,"rounded-[24px] p-2 flex gap-2 items-center"),children:E?e.jsxs("div",{className:"flex flex-col items-center gap-2 w-full py-2",children:[e.jsx(pe,{isCollapsed:E,onToggle:()=>ot(!E),direction:"left"}),e.jsx("span",{className:"text-xs font-bold text-[#666] writing-mode-vertical",style:{writingMode:"vertical-rl",textOrientation:"mixed"},children:"AI"})]}):e.jsxs(e.Fragment,{children:[[{id:"build",label:"Create",icon:"üî®"},{id:"apps",label:"Apps",icon:"üì±"}].map(t=>e.jsxs("button",{onClick:()=>At(t.id),className:s("flex-1 py-2 rounded-xl font-bold text-xs transition-all",Fe===t.id?s(L,"text-[#dc2626]"):s(N,"text-[#1a1a1a]")),children:[t.icon," ",t.label]},t.id)),e.jsx(pe,{isCollapsed:E,onToggle:()=>ot(!E),direction:"left"})]})}),!E&&e.jsxs(e.Fragment,{children:[Fe==="build"&&e.jsxs("div",{className:s(S,"rounded-[24px] p-4"),children:[e.jsx("button",{onClick:()=>ce(!0),className:s("w-full",N,"rounded-xl py-2 font-bold text-[#1a1a1a] text-xs mb-3 flex items-center justify-center gap-2"),children:"üé® Choose Template"}),re&&e.jsxs("div",{className:s(L,"rounded-xl p-2 mb-3 flex items-center gap-2"),children:[e.jsx("span",{className:"text-lg",children:re.icon}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-[#1a1a1a] text-xs",children:re.name}),e.jsx("button",{onClick:()=>{fe(null),w("")},className:"text-[#dc2626] text-[10px]",children:"Clear"})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"font-black text-inherit text-[10px] uppercase tracking-wider mb-1 block",children:["Model (",D,")"]}),e.jsx("div",{className:s(L,"rounded-xl p-1"),children:e.jsxs("select",{value:O,onChange:t=>ie(t.target.value),className:"w-full p-2 bg-transparent font-mono text-[10px] text-inherit border-0 outline-none",children:[Me.filter(t=>W.has(t.id)).length>0&&e.jsx("optgroup",{label:"Favorites",className:"bg-[var(--bg-secondary)] text-inherit",children:Me.filter(t=>W.has(t.id)).map(t=>e.jsx("option",{value:t.id,className:"bg-[var(--bg-secondary)] text-inherit",children:t.id},t.id))}),e.jsx("optgroup",{label:Me.filter(t=>W.has(t.id)).length>0?"All Models":"Models",className:"bg-[var(--bg-secondary)] text-inherit",children:Me.filter(t=>!W.has(t.id)).map(t=>e.jsx("option",{value:t.id,className:"bg-[var(--bg-secondary)] text-inherit",children:t.id},t.id))})]})})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"font-black text-[#dc2626] text-[10px] uppercase tracking-wider mb-1 block",children:l?`Modify "${l.appTitle||l.appName}"`:"App Description"}),e.jsx("div",{className:s(L,"rounded-xl p-1"),children:e.jsx("textarea",{value:f,onChange:t=>w(t.target.value),placeholder:l?"Describe changes to apply to the current app...":"Describe your app in detail...",className:"w-full h-20 p-2 bg-transparent font-mono text-xs text-inherit resize-none border-0 outline-none placeholder-[#999]"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"font-black text-inherit text-[10px] uppercase tracking-wider mb-1 block",children:"App Name"}),e.jsx("div",{className:s(L,"rounded-lg p-1"),children:e.jsx("input",{value:j,onChange:t=>I(t.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"")),placeholder:"my-app",className:"w-full p-1.5 bg-transparent font-mono text-xs text-inherit border-0 outline-none placeholder-[#999]"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-black text-inherit text-[10px] uppercase tracking-wider mb-1 block",children:"Title"}),e.jsx("div",{className:s(L,"rounded-lg p-1"),children:e.jsx("input",{value:J,onChange:t=>F(t.target.value),placeholder:"My App",className:"w-full p-1.5 bg-transparent text-xs text-inherit border-0 outline-none placeholder-[#999]"})})]})]}),e.jsxs("div",{className:s(L,"rounded-xl p-2 flex items-center justify-between gap-2 mt-3"),children:[e.jsx("span",{className:"text-xs font-bold text-[#666] px-2 truncate",children:l?`Editing: ${l.appTitle||l.appName}`:"New App"}),e.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[l&&e.jsx("button",{onClick:()=>{z(null),R(""),w("")},className:s(N,"rounded-lg px-3 py-1.5 font-bold text-xs"),children:"üÜï New"}),e.jsx("button",{onClick:()=>Rt(),disabled:C||!f.trim(),className:s(ae,"rounded-lg px-4 py-1.5 font-bold text-xs disabled:opacity-50",C&&"generating-pulse"),children:C?"‚è≥ Building...":l?"‚ú® Update":"üöÄ Create & Deploy"})]})]})]}),Fe==="apps"&&e.jsxs("div",{className:s(S,"rounded-[24px] overflow-hidden"),children:[e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsxs("div",{className:s(L,"rounded-xl p-1 flex items-center"),children:[e.jsx("span",{className:"pl-3 text-[#999]",children:"üîç"}),e.jsx("input",{value:he,onChange:t=>_e(t.target.value),placeholder:"Search apps...",className:"flex-1 p-2 bg-transparent text-sm text-[#1a1a1a] border-0 outline-none placeholder-[#999]"})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx("button",{onClick:()=>ne(!te),className:s("px-3 py-1.5 rounded-full text-xs font-bold",te?"bg-[#dc2626] text-white":s(N,"text-[#1a1a1a]")),children:"‚≠ê Favorites"}),e.jsxs("select",{value:A,onChange:t=>ee(t.target.value),className:s(N,"rounded-full px-3 py-1.5 text-xs font-bold text-[#1a1a1a] outline-none"),children:[e.jsx("option",{value:"date",children:"Recent"}),e.jsx("option",{value:"name",children:"Name"}),e.jsx("option",{value:"views",children:"Views"})]}),e.jsx("button",{onClick:()=>M(!i),className:s("px-3 py-1.5 rounded-full text-xs font-bold",i?"bg-[#1a1a1a] text-white":s(N,"text-[#1a1a1a]")),children:"‚òëÔ∏è Select"})]}),i&&V.size>0&&e.jsxs("button",{onClick:Ft,className:s(ae,"rounded-xl w-full py-2 text-sm font-bold"),children:["üóëÔ∏è Delete ",V.size," Selected"]})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:ut.length===0?e.jsx("div",{className:"p-6 text-[#888] text-center",children:he||te?"No matching apps":"No apps yet"}):ut.map(t=>e.jsx("div",{onClick:()=>{i||(z(t),R(""))},className:s("p-4 border-b border-[#d0d0d0] cursor-pointer transition-all",l?._id===t._id?L:"hover:bg-[#ddd]"),children:e.jsxs("div",{className:"flex items-start gap-3",children:[i&&e.jsx("input",{type:"checkbox",checked:V.has(t._id),onChange:n=>{const o=new Set(V);n.target.checked?o.add(t._id):o.delete(t._id),be(o)},className:"mt-1 w-5 h-5"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"font-black text-inherit flex items-center gap-2",children:[e.jsx("span",{className:"text-[#dc2626]",children:"üì±"}),t.appTitle||t.appName,t.favorite&&e.jsx("span",{children:"‚≠ê"})]}),e.jsxs("div",{className:"text-[var(--text-secondary)] text-xs flex items-center gap-2 mt-1",children:[e.jsxs("span",{children:["v",t.version||1]}),e.jsx("span",{children:"‚Ä¢"}),e.jsxs("span",{children:["üëÅÔ∏è ",t.views||0]})]}),e.jsx("div",{className:"text-[var(--text-secondary)] text-xs mt-1 truncate",children:t.prompt})]}),!i&&e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("button",{onClick:n=>Ie(t,n),className:s(N,"rounded-full w-8 h-8 flex items-center justify-center text-sm"),children:t.favorite?"‚≠ê":"‚òÜ"}),e.jsx("button",{onClick:n=>ye(t,n),className:s(q,"rounded-full w-8 h-8 flex items-center justify-center text-xs"),children:"‚ñ∂"})]})]})},t._id))})]}),Ce.length>0&&e.jsx(Zt,{log:Ce})]})]}),!E&&!K&&(y==="side-by-side"||!y)&&e.jsx("div",{onMouseDown:t=>u("left",t),className:s("panel-resizer",T==="left"&&"active","hidden lg:flex")}),e.jsx("div",{className:s("space-y-4 transition-all duration-300",K&&"lg:min-w-[50px] lg:max-w-[50px]",(y==="custom"||y==="stacked")&&"w-full",y==="custom"&&"flex-1"),style:{width:y==="custom"||y==="stacked"?"100%":K?"50px":`${Pt}%`,minWidth:K?"50px":y==="custom"||y==="stacked"?"100%":"300px",flexShrink:y==="custom"?1:0},children:K?e.jsxs("div",{className:s(S,"rounded-[24px] p-2 flex flex-col items-center gap-2 h-full"),children:[e.jsx(pe,{isCollapsed:K,onToggle:()=>rt(!K),direction:"left"}),e.jsx("span",{className:"text-xs font-bold text-[#666]",style:{writingMode:"vertical-rl",textOrientation:"mixed"},children:"Code"})]}):e.jsxs("div",{className:s(S,"rounded-[24px] overflow-hidden h-full"),children:[e.jsxs("div",{className:s(S,"p-2 flex items-center justify-between"),children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(pe,{isCollapsed:K,onToggle:()=>rt(!K),direction:"left"}),e.jsx("span",{className:"font-bold text-inherit text-sm px-2",children:"Code"}),e.jsxs("div",{className:"flex gap-1 items-center overflow-x-auto",children:[G.map(t=>e.jsxs("div",{className:"relative group",children:[e.jsx("button",{onClick:()=>{He(t.name)},className:s("px-3 py-1.5 rounded-lg text-xs font-mono transition-all whitespace-nowrap pr-6",H===t.name?L:N,"text-inherit"),children:t.name}),G.length>1&&e.jsx("button",{onClick:n=>{n.stopPropagation(),_t(t.name)},className:"absolute right-1 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity w-4 h-4 flex items-center justify-center rounded text-xs text-red-500 hover:bg-red-100",title:"Delete file",children:"√ó"})]},t.name)),e.jsx("button",{onClick:()=>Je(!0),className:s(N,"rounded-lg w-7 h-7 flex items-center justify-center text-sm flex-shrink-0"),title:"Add file",children:"+"})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>{const t=k||l?.code||"";navigator.clipboard.writeText(t)},disabled:!Z&&!k,className:s(N,"rounded-lg px-2 py-1 font-bold text-xs text-[#1a1a1a] disabled:opacity-50"),title:"Copy code",children:"üìã Copy"}),e.jsx("button",{disabled:!Z&&!k,className:s(N,"rounded-lg px-2 py-1 font-bold text-xs text-[#1a1a1a] disabled:opacity-50"),title:"Format code",children:"‚ú® Format"}),l&&k&&e.jsx("button",{onClick:Dt,disabled:C,className:s(ae,"rounded-lg px-3 py-1.5 font-bold text-xs disabled:opacity-50"),children:"Save & Deploy"})]})]}),e.jsx("div",{className:"h-[520px] bg-white",children:e.jsxs("div",{className:"relative h-full",children:[C&&e.jsxs("div",{className:"code-loading-overlay",children:[e.jsx("div",{className:"code-spinner"}),e.jsx("p",{className:"mt-4 text-sm font-bold text-[#666]",children:"Generating code..."})]}),e.jsx(Qt,{height:"100%",defaultLanguage:"html",theme:document.body.className.includes("theme-dark")?"vs-dark":"light",value:Tt||k||l?.code||"",onChange:t=>{R(t),mt(t)},options:{minimap:{enabled:!1},fontSize:12,wordWrap:"on",automaticLayout:!0,scrollBeyondLastLine:!1,padding:{top:16,bottom:16},lineNumbers:"on",scrollbar:{vertical:"hidden",horizontal:"hidden"}}}),e.jsxs("div",{className:"absolute bottom-2 right-2 text-[#666] text-xs z-10 bg-black/5 px-1 rounded",children:[(k||l?.code||"").length," chars"]})]})})]})}),!K&&!se&&(y==="side-by-side"||!y)&&e.jsx("div",{className:s("panel-resizer hidden lg:flex",T==="right"&&"active"),onMouseDown:t=>u("right",t)}),e.jsx("div",{className:s("space-y-4 transition-all duration-300 flex-1",se&&"lg:min-w-[50px] lg:max-w-[50px] lg:flex-none"),style:{minWidth:se?"50px":"250px"},children:se?e.jsxs("div",{className:s(S,"rounded-[24px] p-2 flex flex-col items-center gap-2 h-full"),children:[e.jsx(pe,{isCollapsed:se,onToggle:()=>ct(!se),direction:"right"}),e.jsx("span",{className:"text-xs font-bold text-[#666]",style:{writingMode:"vertical-rl",textOrientation:"mixed"},children:"Preview"})]}):e.jsxs("div",{className:s(S,"rounded-[24px] overflow-hidden h-full"),children:[e.jsxs("div",{className:s(S,"p-2 flex items-center justify-between flex-wrap gap-2"),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pe,{isCollapsed:se,onToggle:()=>ct(!se),direction:"right"}),e.jsx("span",{className:"font-bold text-inherit text-sm px-2",children:"Preview"})]}),e.jsxs("div",{className:"flex gap-1",children:[l&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>ge(!0),className:s(N,"rounded-lg px-2 py-1 font-bold text-xs text-[#1a1a1a]"),title:"Versions",children:"üìö"}),e.jsx("button",{onClick:()=>Kt(l),className:s(N,"rounded-lg px-2 py-1 font-bold text-xs text-[#1a1a1a]"),title:"Share",children:"üîó"}),e.jsx("button",{onClick:()=>Vt(l),className:s(N,"rounded-lg px-2 py-1 font-bold text-xs text-[#1a1a1a]"),title:"Export",children:"üì§"})]}),e.jsx("button",{onClick:t=>l&&ye(l,t),disabled:!Z,className:s(N,"rounded-lg px-2 py-1 font-bold text-xs text-[#1a1a1a] disabled:opacity-50"),title:"Open in new tab",children:"üîó Open"}),e.jsx("button",{onClick:Ut,disabled:!Z,className:s(ae,"rounded-lg px-3 py-1.5 font-bold text-xs disabled:opacity-50 flex items-center gap-1"),children:"‚ñ∂ Run"})]})]}),e.jsx("div",{className:"h-[520px] bg-white",children:Z?e.jsx("iframe",{srcDoc:k||l?.code,className:"w-full h-full border-0",sandbox:"allow-scripts allow-forms allow-modals allow-popups",title:"App Preview"}):e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[C?e.jsx("div",{className:s("w-16 h-16 mx-auto mb-4 rounded-full",L,"flex items-center justify-center"),children:e.jsx("span",{className:"text-2xl animate-spin","aria-label":"Loading",children:"‚öôÔ∏è"})}):e.jsx("div",{className:s("w-16 h-16 mx-auto mb-4 rounded-full",S,"flex items-center justify-center"),children:e.jsx("span",{className:"text-2xl","aria-hidden":"true",children:"üì±"})}),e.jsx("div",{className:"font-black text-inherit text-sm",children:C?"BUILDING...":"LIVE PREVIEW"}),!C&&e.jsx("div",{className:"text-[#888] text-xs mt-2",children:"Build or select an app"})]})})}),l&&e.jsx("div",{className:"p-3 border-t border-[#d0d0d0]",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"font-bold text-[#1a1a1a] text-xs flex items-center gap-1 truncate",children:[e.jsx("span",{className:"text-[#dc2626]",children:"üì±"}),l.appTitle||l.appName,l.favorite&&e.jsx("span",{children:"‚≠ê"})]}),e.jsxs("div",{className:"text-[#666] text-[10px] flex items-center gap-2 mt-0.5",children:[e.jsxs("span",{children:["v",l.version||1]}),e.jsx("span",{children:"‚Ä¢"}),e.jsxs("span",{children:["üëÅÔ∏è ",l.views||0]}),e.jsx("span",{children:"‚Ä¢"}),e.jsx("span",{className:"truncate",children:l.model})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:t=>Ie(l,t),className:s(N,"rounded-lg w-7 h-7 flex items-center justify-center text-sm"),children:l.favorite?"‚≠ê":"‚òÜ"}),e.jsx("button",{onClick:t=>ye(l,t),className:s(q,"rounded-lg px-2 py-1 font-bold text-xs"),children:"Launch"}),e.jsx("button",{onClick:t=>we(l,t),className:s(N,"rounded-lg w-7 h-7 flex items-center justify-center text-sm text-[#dc2626]"),children:"üóëÔ∏è"})]})]})})]})})]}):e.jsxs("div",{className:s(S,"rounded-[32px] p-12 text-center"),children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full bg-[#dc2626] flex items-center justify-center shadow-[inset_4px_4px_8px_#b91c1c,inset_-4px_-4px_8px_#ef4444]","aria-hidden":"true",children:e.jsx("span",{className:"text-5xl",children:"üöÄ"})}),e.jsx("h2",{className:"text-3xl font-black text-[#1a1a1a] mb-3",children:"Build & Deploy Puter Apps"}),e.jsx("p",{className:"text-[#666] mb-8 max-w-md mx-auto",children:"Describe your app ‚Üí AI builds it ‚Üí Deploy as a real Puter app with live URL"}),e.jsx("button",{onClick:Qe,disabled:!x,className:s(ae,"rounded-full px-10 py-4 font-black text-lg disabled:opacity-50"),children:"Get Started Free"})]}),e.jsx("div",{className:"text-center py-4",children:e.jsxs("div",{className:"inline-flex items-center gap-2 text-[#888] text-sm",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-[#dc2626]"}),"Powered by ",e.jsx("a",{href:"https://puter.com",target:"_blank",rel:"noopener noreferrer",className:"hover:underline text-[#0010d9]",children:"Puter.com"})," || Version 1.5.0 || Created by ",e.jsx("a",{href:"https://jayreddin.github.io",target:"_blank",rel:"noopener noreferrer",className:"hover:underline text-[#0010d9]",children:"Jayreddin"}),e.jsx("span",{className:"w-2 h-2 rounded-full bg-[#1a1a1a]"})]})})]})}const jt=document.getElementById("container");jt&&qt.createRoot(jt).render(e.jsx(os,{}));
